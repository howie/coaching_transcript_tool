# 會談詳情頁面功能測試檢查清單

## 🎯 測試場景

### 1. 新會談（無轉檔記錄）
- [ ] 進入會談詳情頁面
- [ ] 確認顯示「請選擇上傳方式」
- [ ] 測試音檔上傳模式
- [ ] 測試逐字稿上傳模式

### 2. 逐字稿上傳測試
- [ ] 選擇逐字稿上傳模式
- [ ] 上傳 VTT 檔案
- [ ] 確認說話者預覽正確顯示
- [ ] 設定說話者角色（教練/客戶）
- [ ] 點擊上傳，確認成功訊息
- [ ] 確認自動切換到逐字稿分頁
- [ ] 確認時間戳記正確顯示（不是 NaN:NaN）
- [ ] 確認說話者角色正確映射

### 3. 既有轉檔記錄
- [ ] 進入有轉檔記錄的會談
- [ ] 確認轉檔狀態顯示區塊出現
- [ ] 確認不顯示上傳選項
- [ ] 確認逐字稿正確載入
- [ ] 確認談話分析結果顯示

### 4. 逐字稿分頁
- [ ] 確認逐字稿表格正常顯示
- [ ] 確認時間格式正確（HH:MM）
- [ ] 確認說話者標籤正確
- [ ] 測試角色編輯功能
- [ ] 測試匯出功能（各種格式）

### 5. AI 分析分頁
- [ ] 確認有逐字稿時可用
- [ ] 測試 AI 摘要生成
- [ ] 測試 AI 對話功能

## 🐛 已知修正的問題

### ✅ 時間戳記解析
- 支援多種時間格式：HH:MM:SS.mmm, HH:MM:SS,mmm, H:MM:SS
- 修正 NaN:NaN 顯示問題
- 統一前後端欄位名稱：start_sec/end_sec

### ✅ 說話者角色映射
- 支援 VTT 格式：`<v Speaker>content</v>`
- 支援前綴格式：`Coach: content`
- 正確應用使用者角色設定
- 智慧型角色自動判斷

### ✅ 轉檔記錄檢測
- 頁面載入時自動檢查既有記錄
- 主動載入完成的逐字稿
- 顯示轉檔狀態資訊
- 避免重複上傳選項

## 🧪 測試資料

### VTT 測試檔案
```vtt
WEBVTT

00:00:01.000 --> 00:00:05.000
Coach: 哈喽Roger晚安

00:00:06.000 --> 00:00:10.000
Client: 嘿教练晚安

00:00:11.000 --> 00:00:15.000
Coach: 嘿好久不见
```

### SRT 測試檔案
```srt
1
00:00:01,000 --> 00:00:05,000
教練: 哈喽Roger晚安

2
00:00:06,000 --> 00:00:10,000
客戶: 嘿教练晚安

3
00:00:11,000 --> 00:00:15,000
教練: 嘿好久不见
```

## 🔍 檢查要點

1. **控制台日誌**：檢查是否有錯誤訊息
2. **網路請求**：確認 API 回應正常
3. **使用者介面**：確認狀態更新及時
4. **資料一致性**：確認前後端資料同步
5. **錯誤處理**：測試各種錯誤情況

## 📱 測試環境

- [ ] Chrome 瀏覽器
- [ ] Firefox 瀏覽器  
- [ ] Safari 瀏覽器
- [ ] 行動版瀏覽器
- [ ] 不同螢幕尺寸

## 🚨 關鍵測試重點

1. **時間顯示**：絕對不能出現 NaN:NaN
2. **角色映射**：教練/客戶要正確對應
3. **狀態回饋**：上傳後要有明確回饋
4. **資料載入**：既有記錄要自動載入
5. **錯誤處理**：失敗情況要有適當提示