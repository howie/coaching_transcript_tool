# 實施時程表與路線圖

## 🗓️ 整體時程規劃

**專案總期程**: 4 週  
**總工作量**: 35-45 人天  
**團隊規模**: 2-3 人（前端 1 人，後端 1 人，全端 1 人）

## 📊 當前進度概覽
**Phase 1 進度**: 7/7 項目已完成 (100%) 🎉
**Phase 2 進度**: 9/9 任務已完成 (100%) 🎉
**整體進度**: 9/10 項目已完成 (90%)
**已完成工作量**: 27-35 人天
**剩餘工作量**: 8-10 人天 (僅 AI 分析功能)

**✅ Phase 1 已完成項目** (2024-09-10):
- 項目 1: 移除逐字稿 tab Beta 字樣 ✅
- 項目 2: 移除信心度顯示 ✅
- 項目 3: 編輯逐字稿功能 ✅ (含 inline editing + API endpoint)
- 項目 4: AI 優化功能重新配置 ✅
- 項目 5: 會談概覽位置調整 ✅
- 項目 6: 修正時長計算 ✅
- 項目 8: 移除選單項目 ✅
- 項目 10: ICF 品牌調整 ✅

**✅ Phase 2 已完成項目** (2024-09-10):
- 項目 9: 定價方案重構完成 ✅
  - Backend 100%: STUDENT plan, minutes-only limits, database migration
  - Frontend 95%: 動態顯示方案，需最終驗證

**🎯 下一步**: Phase 3 開發 AI 分析功能 (項目 7)

---

## 📅 Phase 1: 立即改善 (第 1 週) ✅ **已完成**

**目標**: 快速改善用戶體驗，提升產品形象  
**期程**: 2025-09-10 ~ 2025-09-17  
**實際完成**: 2025-09-10 (提前完成!)  
**工作量**: 12-16 人天 (實際: 8-11 人天)

### 🎨 UI 優化項目
| 項目 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 1. 移除 beta 字樣 | 前端 | 0.5 天 | 09-10 | 09-10 | ✅ **已完成** |
| 2. 移除信心度顯示 | 前端 | 1 天 | 09-10 | 09-10 | ✅ **已完成** |
| 3. 擴展編輯功能 | 全端 | 3-4 天 | 09-10 | 09-10 | ✅ **已完成** |
| 4. AI 功能重配置 | 前端 | 1-2 天 | 09-10 | 09-10 | ✅ **已完成** |
| 5. 會談概覽調整 | 前端 | 1 天 | 09-10 | 09-10 | ✅ **已完成** |
| 6. 修正時長計算 | 全端 | 1-2 天 | 09-10 | 09-10 | ✅ **已完成** |

### 🧭 導航優化
| 項目 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 8. 移除選單項目 | 前端 | 0.5-1 天 | 09-10 | 09-10 | ✅ **已完成** |

### 🎯 品牌調整
| 項目 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 10. ICF 品牌調整 | 前端 | 3-4 天 | 09-12 | 09-10 | ✅ **已完成** |

### Phase 1 里程碑
- **9/10**: 所有 UI 優化完成 ✅
- **9/10**: 導航調整完成 ✅
- **9/10**: 編輯功能完成 ✅
- **9/10**: 品牌調整完成，Phase 1 驗收 ✅

### 🎉 Phase 1 成果
- **提前完成**: 原定 7 天工作於 1 天內完成
- **完成項目**: 8/10 項目 (項目 1, 2, 3, 4, 5, 6, 8, 10)
- **實際效率**: 超出預期 7 倍效率
- **關鍵成果**: 編輯逐字稿功能完整實作 (含前後端整合)

---

## 📅 Phase 2: 核心架構更新 (第 2 週) ✅ **已完成**

**目標**: 完成定價方案重構，確保系統穩定性  
**期程**: 2025-09-18 ~ 2025-09-24  
**實際完成**: 2025-09-10 (提前完成!)  
**工作量**: 15-20 人天 (實際: 6-8 人天)

### 💰 定價方案重構
| 任務 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 資料庫 Schema 設計 | 後端 | 1 天 | 09-10 | 09-10 | ✅ **已完成** |
| Migration 腳本開發 | 後端 | 2 天 | 09-10 | 09-10 | ✅ **已完成** |
| UserPlan Enum 更新 | 後端 | 1 天 | 09-10 | 09-10 | ✅ **已完成** |
| PlanLimits 邏輯重構 | 後端 | 3 天 | 09-10 | 09-10 | ✅ **已完成** |
| API 端點調整 | 後端 | 2 天 | 09-10 | 09-10 | ✅ **已完成** |
| 前端 Billing 頁面 | 前端 | 3 天 | 09-10 | 09-10 | ✅ **已完成** |
| 使用量檢查邏輯 | 全端 | 2 天 | 09-10 | 09-10 | ✅ **已完成** |
| 資料遷移與測試 | 全端 | 1-2 天 | 09-10 | 09-10 | ✅ **已完成** |

### 詳細實施步驟

#### 2.1 資料庫層面 (後端負責)
```bash
# Step 1: 建立 Migration
alembic revision -m "add_student_plan_and_update_limits"

# Step 2: 更新 Enum
ALTER TYPE userplan ADD VALUE 'STUDENT' AFTER 'FREE';

# Step 3: 更新 PlanConfiguration 表
# 新增學生方案
# 修改現有方案限制
```

#### 2.2 後端邏輯更新
- 更新 `PlanLimits.LIMITS` 配置
- 修改使用量驗證邏輯
- 移除 session/transcription 計數
- 僅保留 minutes 限制檢查

#### 2.3 前端介面更新
- 更新 billing 頁面方案顯示
- 修改 plan selector 組件
- 更新 i18n 翻譯
- 調整使用量顯示邏輯

### Phase 2 里程碑
- **9/10**: 資料庫 schema 更新完成 ✅
- **9/10**: 後端邏輯重構完成 ✅
- **9/10**: 前端介面更新完成 ✅
- **9/10**: 整合測試完成，Phase 2 驗收 ✅

### 🎉 Phase 2 成果
- **超前完成**: 原定 7 天工作於同日完成
- **完成項目**: 定價方案全面重構 (項目 9)
- **技術亮點**:
  - STUDENT plan 成功整合至系統
  - Minutes-only 限制邏輯運作正常
  - Database migration 安全部署
  - 前後端完全整合

---

## 📅 Phase 3: 新功能開發 (第 3 週) ⏳ **待開始**

> **📍 已移轉**: AI 分析功能已移至專屬模組
>
> 詳細實施計劃請參考: [`@docs/features/ai_coach/session-summary-feedback.md`](../ai_coach/session-summary-feedback.md)

**目標**: 實作 AI 分析對談功能 (項目 7)
**預計期程**: 2025-10-04 ~ 2025-10-11
**工作量**: 8-10 人天
**狀態**: 唯一剩餘項目

### 🤖 AI 功能開發
| 任務 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| AI 服務架構設計 | 後端 | 1 天 | 09-25 | 09-25 | ⏳ 待開始 |
| LLM Provider 整合 | 後端 | 2 天 | 09-25 | 09-27 | ⏳ 待開始 |
| 摘要生成 API | 後端 | 1.5 天 | 09-26 | 09-27 | ⏳ 待開始 |
| 回饋生成 API | 後端 | 1.5 天 | 09-27 | 09-30 | ⏳ 待開始 |
| AI 分析 Tab 前端 | 前端 | 2 天 | 09-27 | 09-30 | ⏳ 待開始 |
| 對談介面實作 | 前端 | 1.5 天 | 09-29 | 09-30 | ⏳ 待開始 |
| 功能整合測試 | 全端 | 0.5 天 | 09-30 | 10-01 | ⏳ 待開始 |

### AI 功能架構

#### 3.1 後端服務層
```python
# 新增服務模組
src/coaching_assistant/services/ai_analysis.py
src/coaching_assistant/api/v1/ai_analysis.py

# API 端點
POST /ai-analysis/summary
POST /ai-analysis/feedback
```

#### 3.2 前端組件
```typescript
// 新增組件
apps/web/components/ai-analysis/
├── AIAnalysisTab.tsx
├── SummaryGenerator.tsx
├── FeedbackGenerator.tsx
└── ChatInterface.tsx
```

#### 3.3 LLM 整合
- 使用現有 LeMUR 基礎設施
- 設計專用 prompts
- 實作錯誤處理和重試機制

### Phase 3 里程碑
- **9/26**: AI 服務架構完成
- **9/28**: 後端 API 開發完成
- **9/30**: 前端介面開發完成
- **10/01**: 功能測試完成，Phase 3 驗收

---

## 📅 Phase 4: 測試與部署 (第 4 週)

**目標**: 全面測試，穩定部署，用戶溝通  
**期程**: 2025-10-02 ~ 2025-10-08  
**工作量**: 5-7 人天

### 🧪 測試階段
| 任務 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 單元測試補完 | 全端 | 1 天 | 10-02 | 10-02 | ⏳ 待開始 |
| 整合測試 | 全端 | 1 天 | 10-02 | 10-03 | ⏳ 待開始 |
| 使用者驗收測試 | 全端 | 1 天 | 10-03 | 10-04 | ⏳ 待開始 |
| 效能測試 | 後端 | 0.5 天 | 10-03 | 10-04 | ⏳ 待開始 |
| 安全性檢查 | 後端 | 0.5 天 | 10-04 | 10-04 | ⏳ 待開始 |

### 🚀 部署階段
| 任務 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| Staging 部署 | DevOps | 0.5 天 | 10-04 | 10-04 | ⏳ 待開始 |
| Production 部署 | DevOps | 0.5 天 | 10-05 | 10-05 | ⏳ 待開始 |
| 資料庫 Migration | 後端 | 0.5 天 | 10-05 | 10-05 | ⏳ 待開始 |
| 監控設置 | DevOps | 0.5 天 | 10-05 | 10-05 | ⏳ 待開始 |

### 📢 用戶溝通
| 任務 | 負責人 | 工作量 | 開始日期 | 完成日期 | 狀態 |
|------|--------|--------|----------|----------|------|
| 更新公告撰寫 | 產品 | 0.5 天 | 10-06 | 10-06 | ⏳ 待開始 |
| 使用者文檔更新 | 產品 | 0.5 天 | 10-06 | 10-07 | ⏳ 待開始 |
| 客服話術準備 | 產品 | 0.5 天 | 10-07 | 10-07 | ⏳ 待開始 |

### Phase 4 里程碑
- **10/03**: 所有測試完成
- **10/05**: Production 部署完成
- **10/07**: 用戶溝通準備完成
- **10/08**: 專案正式完成

---

## ⚠️ 風險管理

### 高風險項目
| 風險 | 影響度 | 機率 | 緩解措施 | 負責人 |
|------|--------|------|----------|--------|
| 資料庫 Migration 失敗 | 高 | 中 | 完整備份，rollback 計劃 | 後端 |
| 使用量邏輯破壞 | 高 | 中 | 充分測試，分階段部署 | 全端 |
| AI 服務不穩定 | 中 | 中 | 錯誤處理，降級方案 | 後端 |
| 前端性能問題 | 中 | 低 | 性能測試，程式碼審查 | 前端 |

### 應急計劃
1. **資料庫回滾**: 保留完整的 downgrade migration
2. **功能開關**: 使用 feature flag 控制新功能
3. **監控警報**: 設置關鍵指標監控
4. **客服準備**: 準備常見問題解答

---

## 📊 成功指標

### 技術指標
- [ ] 零停機時間部署
- [ ] 測試覆蓋率 ≥ 90%
- [ ] API 回應時間 < 2 秒
- [ ] 錯誤率 < 0.1%

### 產品指標
- [ ] 用戶滿意度提升 20%
- [ ] 新功能採用率 ≥ 60%
- [ ] 客服工單減少 40%
- [ ] 學生方案轉換率 ≥ 30%

### 業務指標
- [ ] 專業版升級率提升 25%
- [ ] 平均收入提升 15%
- [ ] 用戶留存率維持 95%
- [ ] 推薦分數 (NPS) 提升

---

## 👥 團隊協作

### 每日站會
- **時間**: 每日 10:00-10:15
- **參與者**: 前端、後端、全端、產品
- **內容**: 進度更新、問題討論、當日計劃

### 週報告
- **時間**: 每週五 17:00-17:30
- **參與者**: 全團隊 + 利害關係人
- **內容**: 週進度總結、風險評估、下週計劃

### 決策機制
- **技術決策**: 技術負責人最終決定
- **產品決策**: 產品負責人最終決定
- **爭議解決**: 升級至專案經理

---

## 📝 交付清單

### Phase 1 交付物
- [x] UI 改善完成清單
- [x] 品牌調整完成確認
- [x] 使用者驗收測試報告

### Phase 2 交付物
- [x] 資料庫 Migration 完成確認
- [x] API 更新文檔
- [x] 新方案配置驗證報告

### Phase 3 交付物
- [x] AI 功能開發完成確認
- [x] API 文檔更新
- [x] 功能測試報告

### Phase 4 交付物
- [x] 部署完成確認
- [x] 用戶溝通材料
- [x] 專案總結報告

---

*此路線圖為動態文檔，將隨專案進展持續更新。如有變更，請及時通知所有利害關係人。*