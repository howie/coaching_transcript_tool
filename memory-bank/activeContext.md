# 當前工作重點

## 後端認證與 Dashboard API 功能完善

**目標：** 解決所有認證相關問題，建立穩定的 API 基礎，並提供完整的測試覆蓋。

### Phase 1: 核心認證問題修復 (已完成) ✅

1.  **後端認證依賴修復完成**
    - **任務**: 修復 API 檔案中的認證函數導入錯誤 (`get_current_user` → `get_current_user_dependency`)
    - **狀態**: ✅ **已完成** - 解決了所有 401 認證錯誤的根本原因

2.  **Dashboard Summary API 修復完成**
    - **任務**: 修復 summary.py 中的枚舉值錯誤 (小寫 'completed' → SessionStatus.COMPLETED)
    - **狀態**: ✅ **已完成** - Dashboard API 現在正確返回統計數據而非 500 錯誤

3.  **Dashboard UI 增強完成**
    - **任務**: 優化收入顯示，在右下角以小字體顯示貨幣單位
    - **狀態**: ✅ **已完成** - 改進了 StatCard 組件，支持貨幣顯示

### Phase 2: API 測試基礎建設 (已完成) ✅

1.  **完整 API 測試套件建立**
    - **任務**: 建立 scripts/api-tests/ 目錄與完整的 curl 測試腳本
    - **狀態**: ✅ **已完成**
    - **內容包括**:
      - test_auth.sh - 認證測試
      - test_clients.sh - 客戶管理測試  
      - test_sessions.sh - 教練會談測試
      - test_dashboard.sh - Dashboard 摘要測試
      - run_all_tests.sh - 主要測試執行器
      - README.md - 完整使用文檔

2.  **API 功能驗證完成**
    - **任務**: 使用 curl 驗證 Dashboard API 返回正確數據
    - **狀態**: ✅ **已完成** - 證實了真實統計數據 (90分鐘, 1客戶, NTD 2700收入)

### Phase 3: 系統穩定性確認 (已完成) ✅

1.  **認證問題全面解決**
    - **狀態**: ✅ **已完成** - 所有認證問題已解決
    
2.  **Dashboard 數據正確性確認**
    - **狀態**: ✅ **已完成** - Dashboard 顯示真實數據
    
3.  **測試基礎設施建立**
    - **狀態**: ✅ **已完成** - 完整的 API 測試基礎設施已到位

### 下一階段: UI/UX 調整與雙認證系統實作 (待續)

1.  **簡化首頁 (`apps/web/app/page.tsx`)**
    - **任務**: 移除行銷內容，專注於單一登入入口
    - **狀態**: 📝 **待開始**

2.  **建立認證頁面**
    - **任務**: 建立 `/login` 和 `/signup` 頁面，包含表單和 Google SSO 按鈕
    - **狀態**: 📝 **待開始**

3.  **更新 Dashboard 導航**
    - **任務**: 在用戶下拉選單中新增「帳戶設定」和「Billing」連結
    - **狀態**: 📝 **待開始**

4.  **建立 Billing 頁面**
    - **任務**: 根據提供的設計稿，在 `/dashboard/billing` 建立新的收費方案頁面
    - **狀態**: 📝 **待開始**

---
**上次更新時間:** 2025-08-06 14:30
