{
  "version": "2.25.3",
  "displayVersion": "v2.25.3",
  "description": "Database Schema Fix: Align UsageLogModel with Production",
  "releaseDate": "2025-10-04",
  "releaseNotes": "Fix production 500 errors on /api/v1/usage/insights endpoint caused by database schema mismatch.\n\nRoot Cause:\n- UsageLogModel defined enhanced columns that were never migrated to production\n- Migration 5ba2c5fa0295 only created basic usage_logs schema\n- Local tests pass because SQLite creates all columns from ORM model\n- Production fails because PostgreSQL only has migrated columns\n\nChanges:\n- Comment out all non-existent database columns with TODO markers\n- Update to_domain() to use getattr() with safe defaults for missing columns\n- Update from_domain() and update_from_domain() to skip setting non-existent columns\n- All helper methods updated for safe attribute access\n\nAffected Columns (commented out):\n- Billing: cost_cents, currency, billable\n- Processing: processing_time_seconds, confidence_score\n- Quality: word_count, character_count, speaker_count\n- Error: error_occurred, error_message, retry_count\n- Meta: usage_metadata\n- Legacy: processing_duration_seconds, session_duration_minutes\n\nOnly existing columns remain active:\n- user_id, session_id, client_id, duration_minutes, transcription_type, stt_provider\n- cost_usd (legacy), standard timestamps and IDs\n\nFiles changed:\n- src/coaching_assistant/infrastructure/db/models/usage_log_model.py\n- pyproject.toml\n- version.json\n\nTesting:\n✅ Linting passed (ruff check)\n✅ Unit tests passed (593 tests)\n✅ API endpoint returns 200 OK in TEST_MODE",
  "author": "Coachly Team"
}
