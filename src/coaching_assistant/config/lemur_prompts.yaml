# LeMUR Prompts Configuration
# Configuration file for AssemblyAI LeMUR prompts used in transcript processing

# Model Configuration
model_settings:
  default_model: "claude_sonnet_4_20250514"  # Claude 4 Sonnet
  fallback_model: "claude3_5_sonnet"         # Fallback to Claude 3.5 Sonnet
  max_output_size: 4000
  enable_combined_mode: true

# Speaker Identification Prompts
speaker_identification:
  chinese:
    default: |
      ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„æ•™ç·´å°è©±åˆ†æå¸«ã€‚è«‹åˆ†æä»¥ä¸‹æ•™ç·´å°è©±é€å­—ç¨¿ï¼Œä¸¦è­˜åˆ¥èªªè©±è€…èº«ä»½ã€‚

      é€™æ˜¯ä¸€æ®µæ•™ç·´(Coach)èˆ‡å®¢æˆ¶(Client)çš„å°è©±ã€‚è«‹åˆ¤æ–·æ¯å€‹èªªè©±è€…æ˜¯ã€Œæ•™ç·´ã€é‚„æ˜¯ã€Œå®¢æˆ¶ã€ã€‚

      æ•™ç·´çš„ç‰¹å¾µï¼š
      - æœƒå•é–‹æ”¾æ€§å•é¡Œï¼ˆå¦‚ã€Œä½ å¯ä»¥å¤šèªªä¸€é»å—ï¼Ÿã€ã€Œä½ è¦ºå¾—å‘¢ï¼Ÿã€ï¼‰
      - æœƒå¼•å°å°è©±æ–¹å‘å’Œæ·±å…¥æ¢ç´¢
      - æœƒæä¾›åé¥‹ã€è§€å¯Ÿå’Œå»ºè­°
      - èªèª¿é€šå¸¸æ¯”è¼ƒå¼•å°æ€§å’Œæ”¯æŒæ€§
      - æœƒä½¿ç”¨æ•™ç·´æŠ€å·§å¦‚é‡è¿°ã€æ¾„æ¸…ã€æŒ‘æˆ°

      å®¢æˆ¶çš„ç‰¹å¾µï¼š
      - ä¸»è¦åˆ†äº«è‡ªå·±çš„æƒ…æ³ã€æ„Ÿå—å’Œç¶“æ­·
      - å›ç­”æ•™ç·´çš„å•é¡Œå’Œæ¢ç´¢
      - å°‹æ±‚å¹«åŠ©ã€å»ºè­°æˆ–è§£æ±ºæ–¹æ¡ˆ
      - èªèª¿æ¯”è¼ƒæ•˜è¿°æ€§å’Œå€‹äººåŒ–
      - æœƒè¡¨é”å›°æƒ‘ã€ç³¾çµæˆ–éœ€è¦æ”¯æŒçš„ç‹€æ³

      é€å­—ç¨¿å…§å®¹ï¼š
      {transcript_text}

      è«‹å›è¦†ä¸€å€‹JSONæ ¼å¼çš„èªªè©±è€…å°æ‡‰è¡¨ï¼Œå°‡åŸå§‹èªªè©±è€…æ¨™ç±¤å°æ‡‰åˆ°æ­£ç¢ºçš„è§’è‰²ï¼ˆä½¿ç”¨ç¹é«”ä¸­æ–‡ï¼‰ï¼š
      ä¾‹å¦‚ï¼š{{"A": "æ•™ç·´", "B": "å®¢æˆ¶"}}

      åªå›è¦†JSONï¼Œä¸è¦å…¶ä»–èªªæ˜ï¼Œè«‹ç¢ºä¿ä½¿ç”¨ç¹é«”ä¸­æ–‡ã€‚

  english:
    default: |
      You are a professional coaching conversation analyst. Please analyze the following coaching transcript and identify the speakers.

      This is a conversation between a Coach and a Client. Please determine which speaker is the "Coach" and which is the "Client".

      Coach characteristics:
      - Asks open-ended questions
      - Guides conversation direction
      - Provides feedback and suggestions
      - Uses guiding tone
      - Employs coaching techniques like reflecting, clarifying, challenging

      Client characteristics:
      - Shares personal situations and feelings
      - Responds to coach's questions
      - Seeks help or advice
      - Uses descriptive tone
      - Expresses confusion or need for support

      Transcript:
      {transcript_text}

      Please respond with a JSON mapping of original speaker labels to correct roles:
      Example: {{"A": "Coach", "B": "Client"}} 

      Respond with JSON only, no other explanation.

# Punctuation Optimization Prompts
punctuation_optimization:
  chinese:
    default: |
      ğŸš¨ é‡è¦æé†’ï¼šçµ•å°ä¸è¦åœ¨ä¸­æ–‡å­—ä¹‹é–“åŠ ç©ºæ ¼ï¼ä¸­æ–‡æ‡‰è©²é€£çºŒæ›¸å¯«ï¼

      æ­£ç¢ºç¯„ä¾‹ï¼šã€Œä½ å¥½ï¼Œæˆ‘æ˜¯æ•™ç·´ã€‚ã€
      éŒ¯èª¤ç¯„ä¾‹ï¼šã€Œä½  å¥½ ï¼Œ æˆ‘ æ˜¯ æ•™ ç·´ ã€‚ã€â† é€™æ¨£æ˜¯éŒ¯èª¤çš„ï¼

      ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç¹é«”ä¸­æ–‡æ–‡æœ¬ç·¨è¼¯å¸«ã€‚è«‹æ”¹å–„ä»¥ä¸‹æ•™ç·´å°è©±é€å­—ç¨¿çš„æ¨™é»ç¬¦è™Ÿå’Œæ–·å¥ã€‚

      ğŸ”¥ çµ•å°ç¦æ­¢äº‹é …ï¼š
      âŒ çµ•å°ä¸å¯ä»¥åœ¨ä¸­æ–‡å­—ä¹‹é–“åŠ ä»»ä½•ç©ºæ ¼
      âŒ çµ•å°ä¸å¯ä»¥å°‡é€£çºŒçš„ä¸­æ–‡æ‹†æ•£

      âœ… å¿…é ˆéµå®ˆçš„æ ¼å¼è¦æ±‚ï¼š
      1. å¿…é ˆä½¿ç”¨ç¹é«”ä¸­æ–‡å­—ï¼ˆTraditional Chineseï¼‰è¼¸å‡º
      2. ä¸­æ–‡å­—å¿…é ˆé€£çºŒæ›¸å¯«ï¼Œå­—èˆ‡å­—ä¹‹é–“çµ•å°ä¸åŠ ç©ºæ ¼
      3. ä¿æŒèªªè©±è€…æ¨™ç±¤å’Œå°è©±çµæ§‹ä¸è®Š
      4. ä½¿ç”¨ç¹é«”ä¸­æ–‡å…¨å½¢æ¨™é»ç¬¦è™Ÿï¼ˆï¼Œã€‚ï¼Ÿï¼ï¼‰

      æ¨™é»ç¬¦è™Ÿæ”¹å–„ä»»å‹™ï¼š
      1. åœ¨é•·æ®µè½å…§éƒ¨æ·»åŠ é©ç•¶çš„é€—è™Ÿã€å¥è™Ÿã€å•è™Ÿã€é©šå˜†è™Ÿ
      2. æ¯å€‹å®Œæ•´çš„æ€æƒ³æˆ–æ„æ€å–®å…ƒè¦ç”¨é€—è™Ÿåˆ†éš”
      3. æ¯å€‹å®Œæ•´çš„å¥å­è¦ç”¨å¥è™Ÿçµå°¾
      4. ç–‘å•å¥è¦ç”¨å•è™Ÿçµå°¾
      5. è½‰æŠ˜è©ï¼ˆä½†æ˜¯ã€ç„¶å¾Œã€æ‰€ä»¥ã€å› ç‚ºï¼‰å‰å¾Œè¦åŠ é€—è™Ÿ

      èªªè©±è€…å°æ‡‰ï¼š{speaker_corrections}

      è«‹æ”¹å–„ä»¥ä¸‹é€å­—ç¨¿ï¼š
      {transcript_text}

      âš ï¸ æœ€å¾Œæé†’ï¼šå›è¦†æ”¹å–„å¾Œçš„é€å­—ç¨¿æ™‚ï¼Œåš´æ ¼ä¿æŒç›¸åŒæ ¼å¼ï¼ˆèªªè©±è€…: å…§å®¹ï¼‰ï¼Œåªæ”¹å–„æ¨™é»ç¬¦è™Ÿï¼Œä¸­æ–‡å­—ä¹‹é–“çµ•å°ä¸å¯ä»¥æœ‰ç©ºæ ¼ï¼

    enhanced: |
      ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç¹é«”ä¸­æ–‡æ–‡æœ¬ç·¨è¼¯å¸«ï¼Œå°ˆé–€æ”¹å–„æ•™ç·´å°è©±çš„æ–‡æœ¬å“è³ªã€‚

      ğŸ¯ æ ¸å¿ƒä»»å‹™ï¼šæ”¹å–„æ¨™é»ç¬¦è™Ÿï¼Œæå‡å°è©±å¯è®€æ€§

      ğŸ“‹ æ ¼å¼è¦æ±‚ï¼š
      - ä½¿ç”¨ç¹é«”ä¸­æ–‡ï¼ˆTraditional Chineseï¼‰
      - ä¸­æ–‡å­—é€£çºŒæ›¸å¯«ï¼Œä¸åŠ ç©ºæ ¼
      - ä¿æŒåŸæœ‰èªªè©±è€…æ¨™ç±¤
      - ä½¿ç”¨å…¨å½¢æ¨™é»ï¼ˆï¼Œã€‚ï¼Ÿï¼ï¼›ï¼šï¼‰

      ğŸ”§ æ”¹å–„é‡é»ï¼š
      1. å¥å­çµæ§‹ï¼šæ¯å€‹å®Œæ•´æ€æƒ³ç”¨å¥è™Ÿçµå°¾
      2. æ€æƒ³åˆ†æ®µï¼šç”¨é€—è™Ÿåˆ†éš”ä¸åŒæ¦‚å¿µ
      3. ç–‘å•èªå¥ï¼šå•å¥å¿…é ˆç”¨å•è™Ÿ
      4. èªæ°£è¡¨é”ï¼šé©šå˜†æˆ–å¼·èª¿ç”¨é©šå˜†è™Ÿ
      5. è½‰æŠ˜é€£æ¥ï¼šè½‰æŠ˜è©å‰å¾ŒåŠ é€—è™Ÿ
      6. åˆ—èˆ‰é …ç›®ï¼šç”¨é€—è™Ÿåˆ†éš”

      èªªè©±è€…æ˜ å°„ï¼š{speaker_corrections}

      åŸå§‹é€å­—ç¨¿ï¼š
      {transcript_text}

      è«‹è¼¸å‡ºæ”¹å–„å¾Œçš„é€å­—ç¨¿ï¼Œæ ¼å¼ï¼šèªªè©±è€…: å…§å®¹

  english:
    default: |
      You are a professional English text editor. Please improve the punctuation of the following coaching transcript.

      Format Requirements:
      1. Maintain proper English spacing
      2. Keep original speaker labels unchanged
      3. Follow standard English punctuation rules

      Punctuation Improvement Tasks:
      1. Add appropriate punctuation within long paragraphs (periods, commas, question marks, exclamation marks)
      2. Separate complete thoughts and ideas with commas
      3. End complete sentences with periods
      4. Use question marks for questions
      5. Use exclamation marks for emphasis
      6. Add commas before and after transition words (but, then, so, because)
      7. Separate list items with commas

      Speaker mapping: {speaker_corrections}

      Please improve the following transcript:
      {transcript_text}

      Example format:
      Coach: Good, Lisha hello, I am your coach today, so I will record later, and will take some notes, are you OK?

      Reply with the improved transcript, maintaining the same format (Speaker: content), only improving punctuation.

# Combined Processing Prompts (Speaker + Punctuation)
combined_processing:
  chinese:
    default: |
      è™•ç†é€™æ®µå°è©±é€å­—ç¨¿ï¼Œå°ˆæ³¨æ–¼èªè¨€å“è³ªå’Œè¬›è©±äººå€åˆ†ï¼š

      ğŸ“‹ æ ¸å¿ƒä»»å‹™ï¼š
      1. ç§»é™¤ä¸­æ–‡å­—ä¹‹é–“çš„ç©ºæ ¼ï¼ˆä¾‹å¦‚ï¼š"æˆ‘ æƒ³è¦" â†’ "æˆ‘æƒ³è¦"ï¼‰
      2. è½‰æ›ç‚ºç¹é«”ä¸­æ–‡
      3. æ·»åŠ ç¹é«”ä¸­æ–‡å…¨å½¢æ¨™é»ç¬¦è™Ÿï¼ˆï¼Œã€‚ï¼Ÿï¼ï¼šï¼›ï¼‰
      4. æ­£ç¢ºå€åˆ†å…©å€‹ä¸åŒçš„èªªè©±è€…

      ğŸ¯ è¬›è©±äººå€åˆ†é‡é»ï¼š
      - åš´æ ¼ä¿æŒ A å’Œ B æ¨™ç±¤
      - ç¢ºä¿åŒä¸€å€‹äººçš„é€£çºŒå°è©±æ­¸å±¬æ­£ç¢º
      - æª¢æŸ¥å¥å­æ˜¯å¦è¢«éŒ¯èª¤åˆ†å‰²çµ¦ä¸åŒèªªè©±è€…
      - ä¿®æ­£æ˜é¡¯çš„è¬›è©±äººæ­¸å±¬éŒ¯èª¤

      âš ï¸ é‡è¦åŸå‰‡ï¼š
      - ä¸è¦åˆ¤æ–·èª°æ˜¯æ•™ç·´æˆ–å®¢æˆ¶
      - åªéœ€è¦ç¢ºä¿å…©å€‹èªªè©±è€…çš„å°è©±ä¸æ··æ·†
      - å°ˆæ³¨æ–¼èªè¨€å“è³ªæ”¹å–„

      ğŸ“ ä¿®æ­£ç¯„ä¾‹ï¼š
      è¼¸å…¥ï¼ˆéŒ¯èª¤åˆ†å‰²ï¼‰ï¼š
      A: ä½ ä»Šå¤©æƒ³è«‡ä»€éº¼
      B: å‘¢
      B: æˆ‘æƒ³è«‡è«‡å·¥ä½œå£“åŠ›
      
      è¼¸å‡ºï¼ˆä¿®æ­£å¾Œï¼‰ï¼š
      A: ä½ ä»Šå¤©æƒ³è«‡ä»€éº¼å‘¢ï¼Ÿ
      B: æˆ‘æƒ³è«‡è«‡å·¥ä½œå£“åŠ›ã€‚

      ğŸ“ åŸå§‹é€å­—ç¨¿ï¼š
      {transcript_text}

      ğŸ“¤ ç›´æ¥è¼¸å‡ºè™•ç†å¾Œçš„é€å­—ç¨¿ï¼š
      A: [è™•ç†å¾Œå…§å®¹ï¼Œèªæ„å®Œæ•´ï¼Œæ¨™é»æ­£ç¢º]
      B: [è™•ç†å¾Œå…§å®¹ï¼Œèªæ„å®Œæ•´ï¼Œæ¨™é»æ­£ç¢º]

    optimized: |
      ğŸ¯ å°è©±æ–‡æœ¬å„ªåŒ–èˆ‡è¬›è©±äººé€£è²«æ€§æª¢æŸ¥

      ä½ æ˜¯å°ˆæ¥­çš„ä¸­æ–‡æ–‡æœ¬ç·¨è¼¯å¸«ï¼Œå°ˆæ³¨æ–¼å°è©±å“è³ªæ”¹å–„ï¼š

      ğŸ“‹ æ–‡æœ¬è™•ç†ä»»å‹™ï¼š
      â€¢ ç§»é™¤ä¸­æ–‡å­—é–“å¤šé¤˜ç©ºæ ¼ï¼Œä¿æŒé€£çºŒæ›¸å¯«
      â€¢ è½‰æ›ç‚ºç¹é«”ä¸­æ–‡ï¼ˆå°ç£ç”¨è©ç¿’æ…£ï¼‰
      â€¢ ä½¿ç”¨ç¹é«”ä¸­æ–‡å…¨å½¢æ¨™é»ç¬¦è™Ÿï¼ˆï¼Œã€‚ï¼Ÿï¼ï¼šï¼›ï¼‰

      ğŸ“‹ è¬›è©±äººé€£è²«æ€§æª¢æŸ¥ï¼š
      â€¢ ä¿æŒ A, B åŸå§‹æ¨™ç±¤ä¸è®Š
      â€¢ è­˜åˆ¥è¢«éŒ¯èª¤åˆ†å‰²çš„å¥å­ä¸¦åˆä½µ
      â€¢ æª¢æŸ¥å¥å­å®Œæ•´æ€§ï¼ˆé¿å…æˆªæ–·ï¼‰
      â€¢ ç¢ºä¿æ¯æ®µå°è©±èªæ„å®Œæ•´é€šé †

      âŒ éœ€è¦ä¿®æ­£çš„æƒ…æ³ï¼š
      - å®Œæ•´å¥å­è¢«åˆ†å‰²åˆ°ä¸åŒè¬›è©±äºº
      - å–®å­—æˆ–çŸ­èªè¢«éŒ¯èª¤æ­¸å±¬
      - èªæ„ä¸å®Œæ•´çš„ç‰‡æ®µ

      âœ… ä¿æŒåŸæ¨£çš„æƒ…æ³ï¼š
      - æ­£å¸¸çš„å°è©±è¼ªæ›¿
      - ç°¡çŸ­ä½†å®Œæ•´çš„å›æ‡‰ï¼ˆå¦‚"æ˜¯çš„"ã€"å¥½"ï¼‰

      è¼¸å…¥å…§å®¹ï¼š
      {transcript_text}

      è¼¸å‡ºæ ¼å¼ï¼ˆç›´æ¥è¼¸å‡ºå„ªåŒ–å¾Œçš„å°è©±ï¼‰ï¼š
      A: å„ªåŒ–å¾Œå…§å®¹ï¼Œèªæ„å®Œæ•´ï¼Œæ¨™é»æ­£ç¢ºã€‚
      B: å„ªåŒ–å¾Œå…§å®¹ï¼Œèªæ„å®Œæ•´ï¼Œæ¨™é»æ­£ç¢ºã€‚

  english:
    default: |
      You are a professional coaching conversation analyst and text editor. Please perform two tasks simultaneously:

      Task 1: Speaker Role Identification
      This is a conversation between a Coach and a Client. Identify which speaker is which:

      Coach characteristics: Asks open questions, guides conversation, provides feedback, uses coaching techniques
      Client characteristics: Shares personal situations, responds to questions, seeks help, expresses concerns

      Task 2: Punctuation Improvement
      Improve punctuation following standard English rules:
      - End complete sentences with periods
      - Separate thoughts with commas
      - Use question marks for questions
      - Add commas around transition words

      Original transcript:
      {transcript_text}

      Please provide two parts:

      1. Speaker mapping (JSON format):
      {{"original_label": "Coach or Client"}}

      2. Improved transcript:
      Coach: Improved content with proper punctuation.
      Client: Improved content with proper punctuation.

      Format: Maintain "Speaker: content" format with proper English punctuation.

# Custom Prompt Templates
templates:
  speaker_only:
    placeholder_text: "Only perform speaker identification, keep original text unchanged."
  punctuation_only:
    placeholder_text: "Only improve punctuation, keep original speakers unchanged."
  combined:
    placeholder_text: "Perform both speaker identification and punctuation improvement."

# Error Handling
fallback_prompts:
  speaker_identification_error: "Unable to identify speakers. Using original speaker assignments."
  punctuation_error: "Unable to improve punctuation. Using original text."
  combined_error: "Unable to perform combined processing. Falling back to original transcript."

# Performance Settings
performance:
  batch_processing:
    max_batch_chars: 3000
    max_batch_size: 10
    min_batch_size: 1
  
  adaptive_sizing:
    large_transcript_threshold: 15000  # chars
    medium_transcript_threshold: 8000  # chars
    
  concurrent_processing:
    max_concurrent_batches: 3
    enable_parallel_processing: true