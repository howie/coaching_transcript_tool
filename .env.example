# 日誌配置
LOG_LEVEL=INFO
LOG_FORMAT=json

# 應用配置
DEBUG=true
ENVIRONMENT=development
API_HOST=localhost
API_PORT=8000
SQL_ECHO=false

# 資料庫配置
DATABASE_URL=postgresql://coach_user:coach_pass_dev@localhost:5432/coaching_assistant_dev

# Redis 配置
REDIS_URL=redis://:redis_pass_dev@localhost:6379/0

# JWT 配置
SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Google OAuth 配置
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_PROJECT_ID=

# reCAPTCHA 配置
RECAPTCHA_ENABLED=true
RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET=your-recaptcha-secret
RECAPTCHA_MIN_SCORE=0.5

# Google Cloud 配置 (從 Terraform outputs 取得)
GOOGLE_APPLICATION_CREDENTIALS_JSON={"type": "service_account", "project_id": "coachingassistant", ...}
GCP_PROJECT_ID=coachingassistant
GCP_REGION=asia-east1
SPEECH_API_VERSION=v2

# 存儲桶配置 (簡化架構 - 統一使用音檔 bucket)
# 音檔和 STT 批次結果都存放在同一個 bucket 的不同資料夾
# 開發環境使用:
AUDIO_STORAGE_BUCKET=coaching-audio-dev
# 生產環境使用:
# AUDIO_STORAGE_BUCKET=coaching-audio-prod-asia

# 已棄用的環境變數 (保留供向後相容)
# GOOGLE_STORAGE_BUCKET=coaching-audio-dev  # 使用 AUDIO_STORAGE_BUCKET 代替
# STORAGE_BUCKET=coaching-audio-{env}       # 使用 AUDIO_STORAGE_BUCKET 代替

# 存儲配置
RETENTION_DAYS=1
SIGNED_URL_EXPIRY_MINUTES=30



# CORS 配置
ALLOWED_ORIGINS=http://localhost:3000,https://localhost:3000

# 檔案上傳限制
MAX_FILE_SIZE=500  # MB
MAX_AUDIO_DURATION=3600  # seconds (60 minutes)

# Speech-to-Text (STT) 配置
STT_PROVIDER=google
# Google STT API 版本
SPEECH_API_VERSION=v2
# 預設 STT 模型 (chirp, latest_long, long, short, telephony, medical_dictation, medical_conversation)
# chirp - Universal multilingual model (推薦，支援最多語言)
GOOGLE_STT_MODEL=chirp
# 預設 STT 位置 (us-central1, asia-southeast1, europe-west1, etc.)
# ⚠️ 重要：STT location 必須與 AUDIO_STORAGE_BUCKET 的 location 相同！
# us-central1 (美國中部) - 支援最多語言
# asia-southeast1 (新加坡) - 適合亞洲語言
# asia-northeast1 (東京) - 適合日語
# europe-west1 (比利時) - 適合歐洲語言
# global - 某些模型支援，但不支援所有語言
GOOGLE_STT_LOCATION=asia-southeast1
# 語言特定配置 (JSON 格式，可選)
# 注意：location 必須與 audio bucket 的 location 相同
# STT_LANGUAGE_CONFIGS={"en-us": {"location": "asia-southeast1", "model": "latest_short"}}
# 注意：zh-TW, zh-CN, ja, ko 會自動使用 chirp model (內建優化)

MAX_SPEAKERS=4
MIN_SPEAKERS=2
ENABLE_PUNCTUATION=true
WORKER_CONCURRENCY=4
TASK_TIME_LIMIT=7200  # 2 hours

# Celery 配置
CELERY_BROKER_URL=redis://:redis_pass_dev@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:redis_pass_dev@localhost:6379/0



#Sentry DSN for error tracking (recommended for production)
SENTRY_DSN=https://your-sentry-dsn

# ECPay Payment Configuration
# 測試環境 (開發時使用)
ECPAY_ENVIRONMENT=sandbox
ECPAY_MERCHANT_ID=3002607
ECPAY_HASH_KEY=pwFHCqoQZGmho4w6
ECPAY_HASH_IV=EkRm7iFT261dpevs

# 正式環境 (上線時替換)
# ECPAY_ENVIRONMENT=production
# ECPAY_MERCHANT_ID=your_production_merchant_id
# ECPAY_HASH_KEY=your_production_hash_key
# ECPAY_HASH_IV=your_production_hash_iv

# Payment webhook configuration
# For local development with ngrok (uncomment when testing webhooks)
# API_BASE_URL=https://abc123.ngrok.io

# Email Configuration (for payment notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Uncomment and set the following for admin notifications
#ADMIN_WEBHOOK_TOKEN=your-admin-webhook-token